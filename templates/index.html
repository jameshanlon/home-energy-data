{% for stats in annual_stats %}
<h1>{{stats.year}}</h1>
<table>
  <tr>
  <td>annual_heating_consumed</td>
  <td>{{stats.annual_heating_consumed}}</td>
  </tr>
  <tr>
  <td>annual_water_consumed</td>
  <td>{{stats.annual_water_consumed}}</td>
  </tr>
  <tr>
  <td>annual_total_consumed</td>
  <td>{{stats.annual_total_consumed}}</td>
  </tr>
  <tr>
  <td>annual_heating_generated</td>
  <td>{{stats.annual_heating_generated}}</td>
  </tr>
  <tr>
  <td>annual_water_generated</td>
  <td>{{stats.annual_water_generated}}</td>
  </tr>
  <tr>
  <td>annual_total_generated</td>
  <td>{{stats.annual_total_generated}}</td>
  </tr>
  <tr>
  <td>heating SCOP</td>
  <td>{{stats.heating_scop}}</td>
  </tr>
  <tr>
  <td>DHW SCOP</td>
  <td>{{stats.water_scop}}</td>
  </tr>
  <tr>
  <td>Total SCOP</td>
  <td>{{stats.scop}}</td>
  </tr>
</table>
{% endfor %}

<div>
  {% for chart in charts %}
  <h1>{{chart.name}}</h1>
  <canvas id="chart-{{chart.get_symbol()}}"></canvas>
  {% endfor %}
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  {% for chart in charts %}
  const ctx{{chart.get_symbol()}} = document.getElementById('chart-{{chart.get_symbol()}}');
  new Chart(ctx{{chart.get_symbol()}}, {
    type: 'line',
    data: {
      labels: [
        {% for x in chart.labels %}"{{x}}",{% endfor %}
        ],
      datasets: [
        {% for name, series in chart.series.items() %}
        {
          label: '{{name}}',
        data: [
          {% for x in series %}{{x}},{% endfor %}
        ],
        tension: 0.1,
        },
        {% endfor %}
      ]
    },
    options: {
      pointStyle: false,
      borderWidth: 1,
    }
  });
  {% endfor %}
</script>
